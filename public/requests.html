<!DOCTYPE HTML>
<html lang = "en">
<head>
  <title>Requests</title>
  <meta charset = "UTF-8" />
<script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous">
</script>
</head>
<body>


    <script language="javascript">
        var u = "The Jackal";
        var f = "Burton";
        var l = "Guster";
        var p = "c'mon son"

        var user = { username: u,
                     firstname: f,
                     lastname: l,
                     password: p
        };
        /*
        // postData('/api/users', user);
        var answer = requestData('/api/users');
        console.log(answer.stringify());

        //else {
            //console.log("error!");
        //}

        function postData(url, data) {
            const options = {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            }

            var result = fetch(url, options);
            return result
        };*/

        // uses get method - check response is okay
        /*function requestData(url) {
            fetch(url)
            .then(function(response) {
                if (response.ok) {
                    alert("gut");
                    console.log(response);
                    return response.json;
                }
                alert("error");
                console.log("error");
            })
            .catch(function(error) {
                alert("worse error");
                console.log(error);
            });
        };*/


const Http = new XMLHttpRequest();
const url='https://ez-recipe.herokuapp.com/api/users';
Http.open("GET", url);
Http.send();

Http.onreadystatechange = (e) => {
    if (this.readyState==4 && this.status==200) {
        alert("i am here");
        console.log(Http.responseText);
    }
}

    </script>  


</body>
</html>



