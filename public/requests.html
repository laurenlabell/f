<!DOCTYPE HTML>
<html lang = "en">
<head>
  <title>Requests</title>
  <meta charset = "UTF-8" />
<script
  src="https://code.jquery.com/jquery-3.4.1.js"
  integrity="sha256-WpOohJOqMqqyKL9FccASB9O0KwACQJpFTUBLTYOVvVU="
  crossorigin="anonymous">
</script>
</head>
<body>


    <script language="javascript">
        var u = "The Jackal";
        var f = "Burton";
        var l = "Guster";
        var p = "c'mon son"

        var user = { username: u,
                     firstname: f,
                     lastname: l,
                     password: p
        };
        /*
        // postData('/api/users', user);
        var answer = requestData('/api/users');
        console.log(answer.stringify());

        //else {
            //console.log("error!");
        //}

        function postData(url, data) {
            const options = {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(data)
            }

            var result = fetch(url, options);
            return result
        };*/

        // uses get method - check response is okay
        /*function requestData(url) {
            fetch(url)
            .then(function(response) {
                if (response.ok) {
                    alert("gut");
                    console.log(response);
                    return response.json;
                }
                alert("error");
                console.log("error");
            })
            .catch(function(error) {
                alert("worse error");
                console.log(error);
            });
        };*/
var settings = {
  "async": true,
  "crossDomain": true,
  "url": "https://ez-recipe.herokuapp.com/api/users",
  "method": "GET",
  "headers": {
    "content-type": "application/json",
    "cache-control": "no-cache",
    "postman-token": "3b5a3626-bfca-2c19-3d24-07e3a93c4443"
  },
  "processData": false,
  "data": user.stringify()
}

$.ajax(settings).done(function (response) {
  console.log(response);
});

    </script>  


</body>
</html>
